<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Agent Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <!-- Landing Page -->
        <div id="landing-page" class="landing-page">
            <div class="landing-container">
                <div class="landing-header">
                    <div class="logo-container">
                        <i class="fas fa-microphone-alt logo-icon"></i>
                        <h1 class="landing-logo">Voice Agent Platform</h1>
                    </div>
                    <p class="landing-subtitle">Create intelligent voice agents for your business in minutes</p>
                </div>
                
                <div class="landing-content">
                    <div class="hero-section">
                        <h2 class="hero-title">Transform Your Business with AI Voice Agents</h2>
                        <p class="hero-description">
                            Upload your business data, answer a few questions, and deploy a smart voice agent 
                            that can handle customer inquiries, capture leads, and book appointments.
                        </p>
                        
                        <div class="cta-buttons">
                            <button class="btn btn-primary btn-large" onclick="showCreateAgent()">
                                <i class="fas fa-plus"></i>
                                Create New Agent
                            </button>
                            <button class="btn btn-secondary btn-large" onclick="window.location.href='dashboard.html'">
                                <i class="fas fa-chart-dashboard"></i>
                                View Dashboard
                            </button>
                        </div>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3>AI-Powered</h3>
                            <p>Advanced AI understands your business and provides intelligent responses</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-upload"></i>
                            </div>
                            <h3>Easy Setup</h3>
                            <p>Simply upload your documents and answer a few questions to get started</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3>Easy Integration</h3>
                            <p>Get embeddable code to add your voice agent to any website</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Onboarding Flow -->
        <div id="onboarding-page" class="onboarding-page hidden">
            <div class="onboarding-container">
                <!-- Progress Header -->
                <div class="progress-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="progress-info">
                        <h2 class="progress-title">Create Your Voice Agent</h2>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="current-step">1</span> of <span id="total-steps">6</span>
                        </div>
                    </div>
                </div>

                <!-- Onboarding Content -->
                <div class="onboarding-content">
                    <!-- Step 1: Data Upload -->
                    <div id="step-data-upload" class="onboarding-step active">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-upload"></i>
                                </div>
                                <h3>Upload Your Business Data</h3>
                                <p>Provide your website URL and upload relevant documents to train your voice agent</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="input-group">
                                    <label for="website-url">Website URL</label>
                                    <div class="input-wrapper">
                                        <i class="fas fa-globe input-icon"></i>
                                        <input type="url" id="website-url" placeholder="https://your-website.com" />
                                    </div>
                                    <small class="input-help">We'll analyze your website content to understand your business</small>
                                </div>
                                
                                <div class="input-group">
                                    <label for="pdf-upload">Upload Documents (Optional)</label>
                                    <div class="upload-zone" id="upload-zone">
                                        <div class="upload-content">
                                            <i class="fas fa-file-pdf upload-icon"></i>
                                            <p class="upload-text">Drag and drop PDF files here or click to browse</p>
                                            <input type="file" id="pdf-upload" accept=".pdf" multiple hidden />
                                        </div>
                                        <div class="uploaded-files" id="uploaded-files"></div>
                                    </div>
                                    <small class="input-help">Upload PDFs with additional business information, product catalogs, or FAQs</small>
                                </div>
                                
                                <button class="btn btn-primary btn-next" onclick="startDataProcessing()" disabled id="start-processing-btn">
                                    <i class="fas fa-arrow-right"></i>
                                    Start Interview
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Agent Identity & Role -->
                    <div id="step-identity" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-user-tie"></i>
                                </div>
                                <h3>Agent Identity & Role</h3>
                                <p>Define your agent's name, role, and how it should introduce itself</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="input-group">
                                    <label for="agent-name">Agent Name</label>
                                    <input type="text" id="agent-name" placeholder="e.g., Sarah, Customer Support Assistant" />
                                    <small class="input-help">Choose a friendly, professional name for your voice agent</small>
                                </div>
                                
                                <div class="input-group">
                                    <label for="agent-role">Agent Role/Title</label>
                                    <input type="text" id="agent-role" placeholder="e.g., Customer Service Representative, Sales Assistant" />
                                    <small class="input-help">What role does this agent play in your business?</small>
                                </div>
                                
                                <div class="input-group">
                                    <label for="greeting-message">Custom Greeting (Optional)</label>
                                    <textarea id="greeting-message" placeholder="e.g., Hello! I'm Sarah from TechFlow Solutions. How can I help you today?" rows="3"></textarea>
                                    <small class="input-help">Leave blank to use a default greeting</small>
                                </div>
                                
                                <button class="btn btn-primary btn-next" onclick="nextStep()" id="identity-next-btn">
                                    <i class="fas fa-arrow-right"></i>
                                    Continue to Voice Selection
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Voice & Personality Selection -->
                    <div id="step-voice" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-microphone"></i>
                                </div>
                                <h3>Voice & Personality</h3>
                                <p>Choose your agent's voice and personality characteristics</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="input-group">
                                    <label>Voice Selection</label>
                                    <div class="voice-grid" id="voice-grid">
                                        <!-- Voice options will be loaded here -->
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="personality">Personality</label>
                                        <select id="personality">
                                            <option value="professional">Professional</option>
                                            <option value="friendly">Friendly</option>
                                            <option value="enthusiastic">Enthusiastic</option>
                                            <option value="calm">Calm & Reassuring</option>
                                        </select>
                                    </div>
                                    
                                    <div class="input-group">
                                        <label for="tone">Speaking Tone</label>
                                        <select id="tone">
                                            <option value="helpful">Helpful</option>
                                            <option value="formal">Formal</option>
                                            <option value="casual">Casual</option>
                                            <option value="consultative">Consultative</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="speaking-speed">Speaking Speed</label>
                                        <select id="speaking-speed">
                                            <option value="slow">Slow</option>
                                            <option value="normal" selected>Normal</option>
                                            <option value="fast">Fast</option>
                                        </select>
                                    </div>
                                    
                                    <div class="input-group">
                                        <label for="response-style">Response Style</label>
                                        <select id="response-style">
                                            <option value="concise">Concise</option>
                                            <option value="balanced" selected>Balanced</option>
                                            <option value="detailed">Detailed</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary btn-next" onclick="nextStep()" id="voice-next-btn">
                                    <i class="fas fa-arrow-right"></i>
                                    Continue to Tools
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Tools & Escalation -->
                    <div id="step-tools" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-tools"></i>
                                </div>
                                <h3>Agent Capabilities</h3>
                                <p>Select what your agent can do and when to escalate to humans</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="input-group">
                                    <label>Available Tools</label>
                                    <div class="tools-grid" id="tools-grid">
                                        <!-- Tool options will be loaded here -->
                                    </div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="escalation-triggers">Escalation Triggers</label>
                                    <div class="escalation-options">
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="escalation" value="complex_questions">
                                            <span>Complex technical questions</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="escalation" value="complaints">
                                            <span>Customer complaints or issues</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="escalation" value="pricing">
                                            <span>Pricing and contract discussions</span>
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" name="escalation" value="custom_requests">
                                            <span>Custom or special requests</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="special-instructions">Special Instructions (Optional)</label>
                                    <textarea id="special-instructions" placeholder="Any specific guidelines, topics to emphasize, or things to avoid..." rows="4"></textarea>
                                    <small class="input-help">Additional instructions for your agent's behavior</small>
                                </div>
                                
                                <button class="btn btn-primary btn-next" onclick="completeEnhancedOnboarding()" id="tools-complete-btn">
                                    <i class="fas fa-check"></i>
                                    Create Agent
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Q&A Interview (now step 5) -->
                    <div id="step-interview" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <h3>Tell Us About Your Business</h3>
                                <p>Answer a few questions to customize your voice agent</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="question-container">
                                    <div class="question-number">
                                        Question <span id="question-number">1</span>
                                    </div>
                                    <div class="question-text" id="question-text">
                                        Loading your first question...
                                    </div>
                                    
                                    <div class="answer-input">
                                        <textarea id="answer-input" placeholder="Type your answer here..." rows="4"></textarea>
                                        <div class="answer-actions">
                                            <button class="btn btn-primary" onclick="submitAnswer()" id="submit-answer-btn">
                                                <i class="fas fa-arrow-right"></i>
                                                <span id="submit-btn-text"></span>Next Question</span>
                                            </button>
                                            <div class="thinking-animation" id="thinking-animation" style="display: none;">
                                                <div class="thinking-dots">
                                                    <span>●</span>
                                                    <span>●</span>
                                                    <span>●</span>
                                                </div>
                                                <div class="thinking-text">Generating next question...</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                    <!-- Step 5: Q&A Interview -->
                    <div id="step-interview" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <h3>Tell Us About Your Business</h3>
                                <p>Answer a few questions to customize your voice agent</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="question-container">
                                    <div class="question-number">
                                        Question <span id="question-number">1</span>
                                    </div>
                                    <div class="question-text" id="question-text">
                                        Loading your first question...
                                    </div>
                                    
                                    <div class="answer-input">
                                        <textarea id="answer-input" placeholder="Type your answer here..." rows="4"></textarea>
                                        <div class="answer-actions">
                                            <button class="btn btn-primary" onclick="submitAnswer()" id="submit-answer-btn">
                                                <i class="fas fa-arrow-right"></i>
                                                <span id="submit-btn-text">Next Question</span>
                                            </button>
                                            <div class="thinking-animation" id="thinking-animation" style="display: none;">
                                                <div class="thinking-dots">
                                                    <span>●</span>
                                                    <span>●</span>
                                                    <span>●</span>
                                                </div>
                                                <div class="thinking-text">Generating next question...</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 6: Completion -->
                    <div id="step-completion" class="onboarding-step">
                        <div class="step-card">
                            <div class="step-header">
                                <div class="step-icon success">
                                    <i class="fas fa-check"></i>
                                </div>
                                <h3>Your Voice Agent is Ready!</h3>
                                <p>Congratulations! Your AI voice agent has been created successfully</p>
                            </div>
                            
                            <div class="step-body">
                                <div class="completion-info">
                                    <div class="agent-preview">
                                        <h4 id="agent-name">Your Voice Agent</h4>
                                        <p id="agent-description">Agent configuration completed with knowledge base</p>
                                    </div>
                                    
                                    <div class="completion-actions">
                                        <button class="btn btn-primary btn-large" onclick="showDashboard()">
                                            <i class="fas fa-chart-dashboard"></i>
                                            Go to Dashboard
                                        </button>
                                        <button class="btn btn-secondary btn-large" onclick="showCreateAgent()">
                                            <i class="fas fa-plus"></i>
                                            Create Another Agent
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard (Placeholder) -->
        <div id="dashboard-page" class="dashboard-page hidden">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <button class="back-btn" onclick="showLanding()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-content">
                        <h2>Agent Dashboard</h2>
                        <p class="header-subtitle">Manage and monitor your voice agents</p>
                    </div>
                    <button class="btn btn-primary" onclick="showCreateAgent()">
                        <i class="fas fa-plus"></i>
                        Create New Agent
                    </button>
                </div>
                
                <div class="dashboard-content">
                    <!-- Dashboard Stats -->
                    <div class="stats-grid" id="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="total-agents">-</h3>
                                <p>Total Agents</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="configured-agents">-</h3>
                                <p>Configured</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon active">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="active-agents">-</h3>
                                <p>Active</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Agents Grid -->
                    <div class="agents-section">
                        <div class="section-header">
                            <h3>Your Voice Agents</h3>
                            <div class="section-actions">
                                <button class="btn btn-ghost" onclick="refreshDashboard()">
                                    <i class="fas fa-refresh"></i>
                                    Refresh
                                </button>
                            </div>
                        </div>
                        
                        <div class="agents-grid" id="agents-grid">
                            <!-- Agent cards will be loaded here -->
                        </div>
                        
                        <div class="empty-state hidden" id="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3>No Voice Agents Yet</h3>
                            <p>Create your first AI voice agent to get started</p>
                            <button class="btn btn-primary" onclick="showCreateAgent()">
                                <i class="fas fa-plus"></i>
                                Create Your First Agent
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Agent Detail Modal -->
            <div class="modal hidden" id="agent-detail-modal">
                <div class="modal-overlay" onclick="closeAgentModal()"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modal-agent-name">Agent Details</h3>
                        <button class="modal-close" onclick="closeAgentModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body" id="agent-detail-content">
                        <!-- Agent details will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script type="module" src="./src/main.js"></script>
</body>
</html>
